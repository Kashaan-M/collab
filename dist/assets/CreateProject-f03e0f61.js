import{r,a as R,u as C,j as e,L as D}from"./index-bb4b37b7.js";import{N as E,B as P,M}from"./Btn-d8090584.js";import{A as b,I as F}from"./Alert-96dbeaf7.js";import{p as T}from"./profile_placeholder-4c6a012f.js";import{a as j}from"./axios-71af5128.js";const l=[{id:1,value:"96",name:"AI Researcher"},{id:2,value:"100",name:"Animator"},{id:3,value:"111",name:"Audio designer"},{id:4,value:"98",name:"Audio Engineer"},{id:5,value:"94",name:"Blockchain Developer"},{id:6,value:"114",name:"Business Analyst"},{id:7,value:"117",name:"Content Writer"},{id:8,value:"127",name:"Copywriter"},{id:9,value:"122",name:"Customer Support Specialist"},{id:10,value:"95",name:"Cybersecurity Expert"},{id:11,value:"120",name:"Data Analyst"},{id:12,value:"92",name:"Data Scientist"},{id:13,value:"88",name:"Designer"},{id:14,value:"105",name:"Editor"},{id:15,value:"91",name:"Engineer"},{id:16,value:"90",name:"Entrepreneur"},{id:17,value:"124",name:"Financial Analyst"},{id:18,value:"109",name:"Game artist"},{id:19,value:"108",name:"Game audio designer"},{id:20,value:"110",name:"Game designer"},{id:21,value:"93",name:"Game Developer"},{id:22,value:"99",name:"Graphic Designer"},{id:23,value:"123",name:"Growth Hacker"},{id:24,value:"101",name:"Illustrator"},{id:25,value:"89",name:"Marketer"},{id:26,value:"126",name:"Mobile App Developer"},{id:27,value:"102",name:"Music Producer"},{id:28,value:"129",name:"Operations Manager"},{id:29,value:"106",name:"Photographer"},{id:30,value:"112",name:"Product Designer"},{id:31,value:"113",name:"Product Manager"},{id:32,value:"87",name:"Programmer"},{id:33,value:"115",name:"Project Manager"},{id:34,value:"121",name:"Quality Assurance (QA) Tester"},{id:35,value:"116",name:"Sales Specialist"},{id:36,value:"125",name:"SEO Specialist"},{id:37,value:"118",name:"Social Media Manager"},{id:38,value:"119",name:"UI/UX Designer"},{id:39,value:"128",name:"Video Editor"},{id:40,value:"107",name:"Videographer"},{id:41,value:"103",name:"Video Producer"},{id:42,value:"97",name:"Web Developer"},{id:43,value:"104",name:"Writer"}],w=[{id:1,value:"17",name:"Freelancing together"},{id:2,value:"18",name:"Starting a business"},{id:3,value:"19",name:"Building a portfolio"},{id:4,value:"20",name:"Side project"},{id:5,value:"21",name:"Fun"},{id:6,value:"22",name:"Learning"},{id:7,value:"23",name:"Social Good"},{id:8,value:"24",name:"Escaping the 9-5"}];function z(G){const[d,u]=r.useState(""),[c,m]=r.useState(""),y=R(),i=r.useRef(null),o=r.useRef(null),p=r.useRef(null),g=r.useRef(null),s=r.useRef(null),{setProj:N}=C();async function k(a){var n,v,x,h;if(a.preventDefault(),!(l.find(t=>t.name===i.current.value)==null||l.find(t=>t.name===o.current.value)==null||w.find(t=>t.name===s.current.value)==null))try{const{data:t}=await j.post("/api/projects",{ownRole:i.current.value,otherRole:o.current.value,title:p.current.value,description:g.current.value,purpose:s.current.value});if(t.msg){m(t.msg);const{username:I,email:L,title:_,project:f}=t.project,A=encodeURI(`/projects/${_}`);sessionStorage.setItem("proj",f),N(f),setTimeout(()=>{y(A)},2e3)}}catch(t){(v=(n=t==null?void 0:t.response)==null?void 0:n.data)!=null&&v.msg&&u((h=(x=t.response)==null?void 0:x.data)==null?void 0:h.msg),console.log("something went wrong",t)}finally{setTimeout(()=>{u(""),m("")},2e3)}}async function S(a){a.preventDefault();try{const{data:n}=await j.get("/api/test",{withCredentials:!0})}catch(n){console.log(n)}}return e.jsxs(e.Fragment,{children:[e.jsxs(E,{children:[e.jsx(P,{text:"New Project",href:"/projects/new"}),e.jsx(D,{to:"/dashboard",children:e.jsx("img",{className:"w-[40px] h-[40px] rounded-full inline",src:T})})]}),e.jsxs(M,{children:[d?e.jsx(b,{error:d}):c?e.jsx(b,{success:c}):null,e.jsx("button",{onClick:async a=>await S(a),children:"TEST"}),e.jsx("form",{onSubmit:async a=>await k(a),children:e.jsxs("div",{className:"rounded overflow-hidden shadow-lg my-8 mx-auto p-10",children:[e.jsxs("div",{className:"flex flex-wrap -mx-3 mb-2",children:[e.jsxs("div",{className:"w-full md:w-1/3 px-3 mb-6 md:mb-0",children:[e.jsx("label",{className:"block uppercase tracking-wide text-gray-700 text-xl font-bold mb-2",htmlFor:"grid-state",children:"I'm a"}),e.jsx("div",{className:"relative",children:e.jsx("select",{ref:i,name:"project[am_role_id]",id:"project_am_role_id",className:"block  w-full border border-gray-200 text-gray-700 py-3 px-4 pr-8 rounded leading-tight focus:outline-none bg-white focus:border-gray-500 text-xl",required:!0,onChange:a=>{a.target.setAttribute("value",a.target.value)},children:l.map(a=>e.jsx("option",{value:a.name,children:a.name},a.id))})})]}),e.jsxs("div",{className:"w-full md:w-1/3 px-3 mb-6 md:mb-0",children:[e.jsx("label",{className:"block uppercase tracking-wide text-gray-700 text-xl font-bold mb-2",htmlFor:"grid-state",children:"Looking for a"}),e.jsx("div",{className:"relative",children:e.jsx("select",{ref:o,name:"project[looking_for_role_id]",id:"project_looking_for_role_id",className:"block w-full border border-gray-200 text-gray-700 py-3 px-4 pr-8 rounded leading-tight focus:outline-none bg-white focus:border-gray-500 text-xl",required:!0,onChange:a=>{a.target.setAttribute("value",a.target.value)},children:l.map(a=>e.jsx("option",{value:a.name,children:a.name},a.id))})})]})]}),e.jsx("div",{className:"flex flex-wrap -mx-3 my-6",children:e.jsxs("div",{className:"w-full md:w-1/2 px-3",children:[e.jsx("label",{className:"block uppercase tracking-wide text-gray-700 text-xl font-bold mb-2",htmlFor:"grid-password",children:"Title"}),e.jsx(F,{ref:p,name:"project[title]",className:"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500",type:"text",maxLength:"150",placeholder:"Something short & descriptive",onChange:a=>{a.target.setAttribute("value",a.target.value)},required:!0})]})}),e.jsx("div",{className:"flex flex-wrap -mx-3 my-6",children:e.jsxs("div",{className:"w-full md:w-1/2 px-3",children:[e.jsx("label",{className:"block uppercase tracking-wide text-gray-700 text-xl font-bold mb-2",htmlFor:"grid-password",children:"Tell us more"}),e.jsx("textarea",{ref:g,className:"h-96 form-control appearance-none block text-xl w-full bg-gray-100 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500",placeholder:"Tell us as much as you want about the project, and anything relevant to someone you would work with.",name:"project[description]",id:"project_description",onChange:a=>{a.target.setAttribute("value",a.target.value)},required:!0})]})}),e.jsx("div",{className:"flex flex-wrap -mx-3 mb-2",children:e.jsxs("div",{className:"w-full md:w-1/3 px-3 mb-6 md:mb-0",children:[e.jsx("label",{className:"block uppercase tracking-wide text-gray-700 text-xl font-bold mb-2",htmlFor:"grid-city",children:"Purpose"}),e.jsx("select",{ref:s,name:"project[purpose_id]",id:"project_purpose_id",className:"block w-full border border-gray-200 text-gray-700 py-3 px-4 pr-8 rounded leading-tight focus:outline-none bg-white focus:border-gray-500 text-xl",required:!0,onChange:a=>{a.target.setAttribute("value",a.target.value)},children:w.map(a=>e.jsx("option",{value:a.name,children:a.name},a.id))})]})}),e.jsx("input",{type:"submit",name:"commit",value:"Lez go ✨",className:"bg-teal-600 hover:bg-teal-400 cursor-pointer text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline mt-10","data-disable-with":"Lez go ✨"})]})})]})]})}export{z as default};

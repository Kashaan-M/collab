import{r as l,u as j,a as h,j as s,L as p}from"./index-bb4b37b7.js";import{N as f,B as u,M as N}from"./Btn-d8090584.js";import{F as g}from"./Footer-e9b0988b.js";import{p as b}from"./profile_placeholder-4c6a012f.js";import{m as v}from"./msg-16a197a4.js";import{h as w}from"./joins-a642188f.js";import{a as y}from"./axios-71af5128.js";function L(){const[c,i]=l.useState([]),{user:t,setUser:o,setProj:x}=j(),d=h();l.useEffect(()=>{async function a(){try{const{data:e}=await y.get("/api/projects/myprojects");e.msg&&(i(e.projects),o(e.user))}catch{console.log("something went wrong")}}a()},[]);async function m(a,e,n){const r=encodeURI(`/projects/${e}`);x(n),d(r)}return s.jsxs(s.Fragment,{children:[s.jsxs(f,{children:[s.jsx(u,{text:"New Project",href:"/projects/new"}),s.jsx(p,{to:"/dashboard",children:s.jsx("img",{className:"w-[40px] h-[40px] rounded-full inline",src:b})})]}),s.jsx(N,{children:s.jsxs("div",{className:"mb-[200px]",children:[s.jsxs("div",{className:"flex justify-between max-w-lg",children:[s.jsx("h2",{className:"text-3xl font-bold",children:"Account"}),s.jsx("button",{className:"text-blue-600",children:"Edit"})]}),t.length!==0&&s.jsxs(s.Fragment,{children:[s.jsx("p",{children:t[0]}),s.jsx("p",{children:t[1]})]}),s.jsx("h2",{className:"mt-[50px] text-3xl font-bold",children:"Projects"}),s.jsx("div",{children:c.length!==0&&c.map(({id:a,title:e,comments:n})=>s.jsxs("article",{className:"my-4 max-w-lg rounded overflow-hidden shadow-md",children:[s.jsx("div",{className:"px-6 py-4",children:s.jsx("div",{className:"font-bold text-xl flex",children:s.jsx("div",{className:"font-bold text-xl flex-col",children:s.jsx("button",{onClick:async r=>m(r,e,a),children:s.jsx("span",{children:e})})})})}),s.jsxs("div",{className:"px-6 pb-2",children:[s.jsx("div",{className:"inline",children:s.jsxs("span",{children:[n,s.jsx("img",{className:"inline w-[25px] h-[25px]",src:v})]})}),s.jsx("div",{className:"inline ml-[10px]",children:s.jsxs("span",{children:[n,s.jsx("img",{className:"inline w-[25px] h-[25px]",src:w})]})})]})]},a))})]})}),s.jsx(g,{})]})}export{L as default};
